-- Í≥ÑÏ†ï : crazekimchi
-- pw : coffeekimchi

/*
DROP TABLE PRODUCT;
DROP TABLE NOTICE_IMG;
DROP TABLE NOTICE;
DROP TABLE MEMBER;
DROP SEQUENCE PRODUCT_SEQ;
DROP SEQUENCE NOTICE_IMG_SEQ;
DROP SEQUENCE NOTICE_SEQ;
*/

CREATE TABLE MEMBER(
	MEMBER_ID			VARCHAR2(32)		PRIMARY KEY,
	MEMBER_PW			CHAR(60)			NOT NULL,
	MEMBER_NAME			VARCHAR2(32)		NOT NULL,
	MEMBER_EMAIL		VARCHAR2(64)		NOT NULL,
	ENROLL_DATE			DATE				DEFAULT SYSDATE NOT NULL,
	MEMBER_TYPE			NUMBER				DEFAULT 2 NOT NULL
);
CREATE TABLE NOTICE(
	NOTICE_NO			NUMBER				PRIMARY KEY,
	NOTICE_TITLE		VARCHAR2(256)		NOT NULL,
	NOTICE_CONTENT		VARCHAR2(4000)		NOT NULL,
	NOTICE_READ_COUNT	NUMBER				DEFAULT 0 NOT NULL,
	NOTICE_REG_DATE		DATE				DEFAULT SYSDATE NOT NULL,
	NOTICE_STATUS		NUMBER				DEFAULT 1 NOT NULL
);
CREATE SEQUENCE NOTICE_SEQ;
--2023.08.31
--NOTICE_IMG -> NOTICE_FILE
--NOITCE_IMG_SEQ -> NOTICE_FILE_SEQ
CREATE TABLE NOTICE_FILE(
	NOTICE_FILE_NO		NUMBER				PRIMARY KEY,
	NOTICE_NO			NUMBER				REFERENCES NOTICE,
	NOTICE_FILE_NAME	VARCHAR2(512)		NOT NULL,
	NOTICE_FILE_PATH	VARCHAR2(512)		NOT NULL,
);
CREATE SEQUENCE NOTICE_FILE_SEQ;

CREATE TABLE PRODUCT(
	PRODUCT_NO			NUMBER				PRIMARY KEY,
	PRODUCT_NAME		VARCHAR2(64)		NOT NULL,
	PRICE				NUMBER				NOT NULL,
	DETAIL				VARCHAR2(4000)		NOT NULL,
	THUMBNAIL_IMG		VARCHAR2(64)		NOT NULL,
	AMOUNT				NUMBER				DEFAULT 0 NOT NULL,
	VIEW_COUNT			NUMBER				DEFAULT 0 NOT NULL,
	STATUS				CHAR(1)				DEFAULT 'Y' CHECK (STATUS IN ('Y','N')) NOT NULL		
);
CREATE SEQUENCE PRODUCT_SEQ;
--2023.09.13
-- PRODUCT_IMG, PRODUCT_IMG_SEQ ¡¶∞≈

SELECT * FROM USER_TABLES;
SELECT * FROM USER_SEQUENCES;

-- ?ÉÅ?íà ?ç∏?Ñ§?ùº?ù¥ÎØ∏Ï? Í≤ΩÎ°ú ?ûêÎ£åÌòï ?àò?†ï (Î∞îÏù¥?ä∏)
alter table product modify thumbnail_img varchar2(128);
